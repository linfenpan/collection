/*! By da宗熊 2015-10-14 v1.0.1 https://github.com/linfenpan/projectM.git */
!function(a){function b(a,b){function c(a){return"string"==e(a)?'"'+a+'"':a}var d,f;for(var g in a)a.hasOwnProperty(g)&&(d=f=a[g],"array"==e(d)&&(f=d[0],(d=d[1])&&(this[d]=new Function("this.fire.apply(this, ["+c(f)+"].concat([].slice.call(arguments, 0)))"))),this[g]=new Function("fn","this.add(fn, "+c(f)+");return this;"));this.isMemory=b||!1,this._sign_=-1,this._args_=[],this._fnList_=[]}function c(a,b){function c(c){d.onload=d.onerror=d.onreadystatechange=null,s.removeChild(d),d=null,b(c,a)}var d=document.createElement("script");d.async=!0,"onload"in d?(d.onload=c,d.onerror=function(){c(!0)}):d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&c()},d.src=a,s.appendChild(d)}function d(){}function e(a){return u.call(a).slice(1,-1).split(" ")[1].toLowerCase()}function f(a){return"function"==typeof a}function g(a){var b=a.toString();return b.slice(b.indexOf("/*!")+3,b.lastIndexOf("*/")).replace(/^[\n\r]*|[\n\r]*$/g,"")}function h(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c],a)}function i(b){return a.JSON?JSON.parse(b):new Function("return "+b)()}function j(a){var b="";for(var c in a)b+="var "+c+' = "'+a[c].toString().replace(/(")/g,"$1")+'";\n';return b+='return str.replace(/\\${([^}]*)}/g, function(str, key){\nreturn eval(key) || "";\n});\n',new Function("str",b)}function k(a){if(w[a])return w[a].def;var c=new b({done:[1,"resolve"],always:0},!0);return w[a]=c,c.exports=null,c.done(function(a){c.exports=a}),c}function l(b){b=b||{},v=b.path||v,h(b.other||{},function(a,b){var c=k(a);c.resolve(b)});var c,d=v.basePath;if(d)t.isAbsolute(d)||(c=document.createElement("a"),c.setAttribute("href",d),v.basePath=t.dir(c.hasAttribute?c.href:c.getAttribute("href",4)));else if(c=document.getElementById("projectnode")){var d=t.dir(c.hasAttribute?c.src:c.getAttribute("src",4)),e=c.getAttribute("data-rel");e&&(d=t.join(d,e)),v.basePath=d}else v.basePath=t.dir(a.location.href);c=null,A=j(v)}function m(a,b){function c(a){d.resolve(a),f(b)&&b(a)}if(a=p(a),a in w)return w[a].done(function(a){f(b)&&b(a)}),w[a].exports;var d=k(a),e=t.ext(a),h=x[e]||x["default"];h(a,function(b,d){d?(b=z,z=null,f(b)?3==b.length?n(t.dir(a),b,function(d){if(f(b)){var e={exports:{}};b(o(a),e.exports,e),b=e.exports}c(b)}):c(g(b)):c(b)):c(b)},e)}function n(a,b,c){function d(){0>=i&&j&&c&&c()}if(f(b)){for(var e,g=b.toString().replace(/\/\*(.|\n|\s)*?\*\/|\/\/[^\n\r]*/g,""),h=/\brequire\s*\(([^)]*)\)/g,i=0,j=!1;e=h.exec(g);){var k=e[1];/["']\s*,/.test(k)||(k=k.replace(/"|'/g,""),i++,require(p(k,a),function(){i--,d()}))}j=!0,d()}else c&&c()}function o(a){function b(a,d){var e=p(a,c),f=arguments;return f.length<=1?m(e,d):b.async.apply(this,f)}var c=t.dir(a);return b.url=function(a){return p(a,c)},b.async=function(){for(var a,b=[].slice.call(arguments,0),d=0,e=b.length;e>d;d++)a=b[d],"string"==typeof a&&(b[d]=p(a,c));y.require.apply(y,b)},b.css=function(a){if(a=p(a,c),!B[a]){var b=document.createElement("link");b.rel="stylesheet",b.href=a,s.appendChild(b)}},b}function p(a,b){return w[a]?a:(a=A(a),t.isAbsolute(a)?a:t.join(b||v.basePath,a))}b.prototype={fire:function(a){var b,c=this._fnList_,d=[].slice.call(arguments,1);this._args_=d,this._sign_=a;for(var e=0,f=c.length;f>e;e++)b=c[e],a!=b.sign&&b.sign||b.fn.apply(this,d)},add:function(a,b){this._fnList_.push({fn:a,sign:b}),!this.isMemory||b!=this._sign_&&b||a.apply(this,this._args_)}};var q,r,s=document.head||document.getElementsByTagName("head")[0];r=a.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject("Microsoft.XMLHTTP")},q=function(a,b){var c=r();c.onreadystatechange=function(){4==c.readyState&&(c.onreadystatechange=null,200==c.status||302==c.status?b&&b(!1,a,this.responseText,this):b&&b(!0))},c.open("GET",a,!0),c.send(null)};var t={};t.normal=function(a){return a=a.replace(/\/\.\//g,"//"),a=a.replace(/([^:])\/{2,}/g,"$1/"),a=a.replace(/[^\/]+\/\.\.\/([^\/]*)/g,"$1")},t.isAbsolute=function(a){return/:\/\//.test(a)},t.join=function(){var a=[].join.call(arguments,"/");return this.normal(a)},t.dir=function(a){return a.replace(/(.*\/).*$/,"$1")},t.ext=function(a){return a.replace(/.*\.(.*)$/,"$1")};var u=Object.prototype.toString,v={basePath:null},w={},x={js:function(a,b,d){c(a,function(a,c){a!==!0&&b(null,!0)})},"default":function(a,b,c){q(a,function(a,d,e){a!==!0&&b("json"==c?i(e):e)})}},y={};y.require=function(){function a(){j&&0>=g&&f.apply(this,i)}var b=[].slice.call(arguments,0),c=b.slice(0,-1),f=b[b.length-1];"string"===e(f)&&(c.push(f),f=d);var g=0,i=[],j=!1;h(c,function(b,c){g++,m(c,function(c){g--,i[b]=c,a()})}),j=!0,a()};var z=null;y.define=function(a,b){var c=arguments.length;if(1==c)z=a;else{var d=k(a);d.resolve(b)}},y.addProcesser=function(a,b){x[a]=f(b)?b:x[b]};var A,B={};l(a.Project||{}),a.require=y.require,a.define=y.define,a.require.config=l,a.require.addProcesser=y.addProcesser,a.require.ajax=q}(window);